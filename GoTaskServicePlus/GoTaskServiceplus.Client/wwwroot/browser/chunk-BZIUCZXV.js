import{a as G,b as A}from"./chunk-DY7UBFIR.js";import{a as k}from"./chunk-MV2P2U5R.js";import{$ as L,A as c,B as p,C as D,Ca as w,E as I,H as C,I as V,M as a,N as l,Na as R,O as d,P as u,Pa as E,Q as x,Qa as H,R as f,Va as U,W as _,X as y,Z as P,k as b,ma as S,na as j,p as O,r as v,s as M,ta as T,u as h,v as g}from"./chunk-EYTT7SII.js";var z=(()=>{let o=class o{constructor(e,t){this.http=e,this._host=t,this._host=this._host}GetVideo(e){var t=this.http.getFileHttp("DowLoaderVideo?url="+e);return t}GetVideoInfo(e){var t=this.http.getHttp("GetInfoVideo?url="+e);return t}GetDowloadVideoUrl(e){var t=this.http.getHttp("DowLoaderVideoUrl?url="+e);return t}GetDowloadVideoPartial(e){var t=this.http.getFileHttp("DowLoaderVideoPartial?url="+e);return t}GetDowloadVInfo(e){var t=this.http.getHttp("DowLoaderVideoPartial?url="+e);return t}GetStreamAsList(e){var t=this.http.getHttp("GetStreamAsList?id="+e+"&restart=false");return t}GetResponseHttp(e){let t=JSON.stringify(e),i=JSON.parse(t);return JSON.parse(i.json)}};o.\u0275fac=function(t){return new(t||o)(v(k),v(w))},o.\u0275prov=O({token:o,factory:o.\u0275fac,providedIn:"root"});let n=o;return n})();function $(n,o){if(n&1){let s=u();a(0,"div",8)(1,"h4"),y(2),l(),a(3,"button",5),x("click",function(){h(s);let t=f(),i=_(4);return g(t.dowloadVideoPartial(i.value,"mp4"))}),d(4,"i",9),l()()}if(n&2){let s=f();c(2),P(" ",s._titleVideo," VIDEO:")}}function W(n,o){if(n&1){let s=u();a(0,"div",8)(1,"h4"),y(2),l(),a(3,"button",5),x("click",function(){h(s);let t=f(),i=_(4);return g(t.dowloadVideoPartial(i.value,"mp3"))}),d(4,"i",10),l()()}if(n&2){let s=f();c(2),P(" ",s._titleVideo," AUDIO: ")}}var ie=(()=>{let o=class o{constructor(e,t,i,r,m){this._msg="",this.fileParts=[],this._statusTaskSubject=new b,this.statusTask$=this._statusTaskSubject.asObservable(),this._progressSubject=new b,this.progress$=this._progressSubject.asObservable(),this._configservice=e,this._dowload=t,this._titleService=r,this._Loading=m}ngOnInit(){this._titleService.setTitle("Descarga Videos De Youtube")}getInfoVideo(e){return e!=""&&e!=null&&(this.Loading(!0,!0),e!=""&&this._dowload.GetVideoInfo(e).subscribe({next:i=>{i.type==S.DownloadProgress||(this._video=JSON.parse(i.body.json),this._titleVideo=this._video.Title),this.Loading(!1,!1)},error:i=>{this.Loading(!1,!1)}})),""}descargarBlob(e,t="Prueba.mp4"){let i={type:"application/octet-stream"},r=document.createElement("a");r.href=URL.createObjectURL(e),r.download=t||"archivo_descargado",r.click(),URL.revokeObjectURL(r.href),this.Loading(!1,!1)}dowloadVideoPartial(e,t){return this.Loading(!0,!0),e!=""&&e!=null&&e!=""&&this._dowload.GetDowloadVideoPartial(e+"&mode="+t).subscribe({next:i=>{var r=Math.round(i.loaded*100/i.total);if(i.type===S.DownloadProgress)this._Loading._text=r.toString();else if(i instanceof j){let m=new Blob([i.body]);this.descargarBlob(m,"GotaskService_"+this._titleVideo+"."+t)}},complete:()=>{},error:i=>{this.Loading(!1,!1)}}),""}loadingProgress(){if(this._Isprogress){this._progress==null&&(this._progress=0),console.log(this._progress);try{setInterval(()=>{this._progress<=98&&(this._Loading._text=(this._progress++).toString()+"%",this._Isprogress?this.loadingProgress():this._progress=0)},19e3)}catch(e){console.log(e)}}else this._progress=0;this._cdRef.detectChanges()}Loading(e,t){this._Loading.Loading(e),this._statusTask=t,this._Isprogress=e,console.log(this._Isprogress)}alertSmg(e,t=500){this.startTimer(3e3),this._msg=e,this._cdRef.detectChanges()}startTimer(e){var t=setTimeout(()=>{this.closeAlert()},e)}stopTimer(e){}closeAlert(){this._msg=""}};o.\u0275fac=function(t){return new(t||o)(p(w),p(z),p(D),p(T),p(G))},o.\u0275cmp=M({type:o,selectors:[["app-subapp-download-videos"]],standalone:!0,features:[L],decls:13,vars:3,consts:[[1,"conatiner-speechText"],["id","container-text-to-speech"],["id","text-input","placeholder","Escribe la URL...",3,"ngModel"],["texValue",""],[1,"coniner-flex"],[1,"btn",3,"click"],[1,"bi","bi-search"],["class","item-title"],[1,"item-title"],[1,"bi","bi-filetype-mp4"],[1,"bi","bi-filetype-mp3"]],template:function(t,i){if(t&1){let r=u();d(0,"app-common-loading"),a(1,"div",0)(2,"div",1),d(3,"textarea",2,3)(5,"br")(6,"br"),a(7,"div",4)(8,"button",5),x("click",function(){h(r);let F=_(4);return g(i.getInfoVideo(F.value))}),d(9,"i",6),l()(),C(10,$,5,1,"div",7),d(11,"br"),C(12,W,5,1,"div",7),l()()}t&2&&(c(3),I("ngModel",i._extractedText),c(7),V(10,i._titleVideo!=null&&i._titleVideo.length>0?10:-1),c(2),V(12,i._titleVideo!=null&&i._titleVideo.length>0?12:-1))},dependencies:[U,R,E,H,A],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;text-align:center;text-shadow:0px -1px 1px white}.conatiner-speechText[_ngcontent-%COMP%]{display:flex;flex-direction:row;column-gap:10px}@media (max-width: 600px){.conatiner-speechText[_ngcontent-%COMP%]{display:flex;column-gap:10px}}#container-text-to-speech[_ngcontent-%COMP%]{width:80%;max-width:600px;margin:25px auto 0;padding:20px 20px 100px;border-radius:5px;box-shadow:0 0 5px}@media (max-width: 368px){#container-text-to-speech[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:98VW}}@media (max-width: 368px){.title[_ngcontent-%COMP%]{font-size:18px}}.coniner-flex[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:end}@media (max-width: 368px){.coniner-flex[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;flex-wrap:nowrap}}.btn[_ngcontent-%COMP%]{margin:10px;padding:10px 15px;font-size:26px;border-radius:100%;background-color:#000;color:#fff;text-shadow:0px -1px 8px gray;box-shadow:0 0 10px #fff inset}@media (max-width: 368px){.btn[_ngcontent-%COMP%]{font-size:28px}}textarea[_ngcontent-%COMP%]{width:100%;height:150px;border-radius:5px;resize:none}.item-title[_ngcontent-%COMP%]{width:100%;padding:5px;background-color:#ffb497;border-radius:5px;box-shadow:0 0 5px #000;display:flex;justify-content:center;align-items:center}@media (max-width: 368px){.item-title[_ngcontent-%COMP%]{width:100%;padding:5px;background-color:#ffb497;border-radius:5px;box-shadow:0 0 5px #000;display:flex;flex-direction:column;justify-content:center;align-items:center}.item-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;font-size:14px}}.item-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#000;font-size:12px}"]});let n=o;return n})();export{ie as DownloadVideosComponent};
