import{a as Q}from"./chunk-HNU325FC.js";import{b as T}from"./chunk-CJZT23PP.js";import{a as K}from"./chunk-W3XRPWO3.js";import{a as J}from"./chunk-JSEALS6B.js";import"./chunk-ROSI6QSI.js";import"./chunk-VYAYXPXE.js";import"./chunk-OMG2A7U2.js";import"./chunk-VLMSGL5J.js";import"./chunk-DY7UBFIR.js";import"./chunk-MV2P2U5R.js";import{$ as O,A as l,B as h,C as F,Ca as D,E as f,H as j,I as x,Ia as L,Ja as w,K as E,L as y,M as e,N as i,Na as R,O as S,P as g,Pa as U,Q as s,Qa as H,R as d,Sa as z,Ta as B,U as M,Va as q,X as c,Y as V,Z as u,_ as A,aa as b,i as P,ia as N,ka as G,s as I,u as C,v,xa as $}from"./chunk-EYTT7SII.js";var W=(a,_)=>_.id;function X(a,_){if(a&1){let r=g();e(0,"button",6),s("click",function(){C(r);let o=d();return v(o.Route(o._projectService._project.gpsGoogle))}),c(1,"Abrir mapa"),i()}}function Y(a,_){if(a&1&&(e(0,"option",7),c(1),i()),a&2){let r=d();l(1),u(" ",r.languageTraslate("Seleccionar"),"")}}function Z(a,_){if(a&1&&(e(0,"option",7),c(1),i()),a&2){let r=d();l(1),u("",r._projectService._project.typeCompanyMode," ")}}function ee(a,_){if(a&1&&(e(0,"option",7),c(1),i()),a&2){let r=d();l(1),u("",r._projectService._project.conceptCompany.name," ")}}function te(a,_){if(a&1&&(e(0,"option",7),c(1),i()),a&2){let r=d();l(1),u(" ",r.languageTraslate("Seleccionar"),"")}}function ie(a,_){if(a&1&&(e(0,"option",31),c(1),i()),a&2){let r=_.$implicit;M("value",r.id),l(1),V(r.name)}}function ne(a,_){if(a&1&&(e(0,"option",7),c(1),i()),a&2){let r=d();l(1),u(" ",r.languageTraslate("Seleccionar"),"")}}function oe(a,_){if(a&1&&(e(0,"option",7),c(1),i()),a&2){let r=d();l(1),u(" ",r.GetProjectAdressName(r._projectService._project.addressItemId),"")}}function re(a,_){if(a&1&&(e(0,"option",31),c(1),i()),a&2){let r=_.$implicit;M("value",r.id),l(1),V(r.name)}}function ce(a,_){if(a&1&&E(0,re,2,2,"option",31,W),a&2){let r=d();y(r._projectService.adressList)}}function ae(a,_){if(a&1){let r=g();e(0,"button",6),s("click",function(){C(r);let o=d();return v(o.SaveAndUpdateProject())}),S(1,"i",32),i()}}var le=(a,_)=>_.name;function de(a,_){if(a&1){let r=g();e(0,"div",36)(1,"button",6),s("click",function(){C(r);let o=d().$implicit,t=d(2);return v(t.Edit(o.id))}),S(2,"i",37),i(),e(3,"button",6),s("click",function(){C(r);let o=d().$implicit,t=d(2);return v(t.Delete(o.id))}),S(4,"i",38),i()()}}function _e(a,_){if(a&1){let r=g();e(0,"div",36)(1,"button",6),s("click",function(){C(r);let o=d().$implicit,t=d(2);return v(t.Edit(o.id))}),S(2,"i",37),i(),e(3,"button",6),s("click",function(){C(r);let o=d().$implicit,t=d(2);return v(t.Delete(o.id))}),S(4,"i",38),i()()}}function pe(a,_){if(a&1){let r=g();e(0,"div",36)(1,"button",6),s("click",function(){C(r);let o=d().$implicit,t=d(2);return v(t.Edit(o.id))}),S(2,"i",37),i(),e(3,"button",6),s("click",function(){C(r);let o=d().$implicit,t=d(2);return v(t.Delete(o.id))}),S(4,"i",38),i()()}}function se(a,_){if(a&1){let r=g();e(0,"div",36)(1,"button",6),s("click",function(){C(r);let o=d().$implicit,t=d(2);return v(t.Edit(o.id))}),S(2,"i",37),i(),e(3,"button",6),s("click",function(){C(r);let o=d().$implicit,t=d(2);return v(t.Delete(o.id))}),S(4,"i",38),i()()}}var k=a=>({"row-select":a});function me(a,_){if(a&1){let r=g();e(0,"div",33),s("click",function(){let t=C(r).$implicit,p=d(2);return v(p.Selection(t.id))}),c(1),j(2,de,5,0,"div",34),i(),e(3,"div",35),s("click",function(){let t=C(r).$implicit,p=d(2);return v(p.Selection(t.id))}),c(4),j(5,_e,5,0,"div",34),i(),e(6,"div",35),s("click",function(){let t=C(r).$implicit,p=d(2);return v(p.Selection(t.id))}),c(7),j(8,pe,5,0,"div",34),i(),e(9,"div",35),s("click",function(){let t=C(r).$implicit,p=d(2);return v(p.Selection(t.id))}),c(10),j(11,se,5,0,"div",34),i()}if(a&2){let r=_.$implicit,n=d(2);f("ngClass",b(14,k,n._rowSeletion==r.id))("id",r.id),l(1),u(" ",r.name," "),l(1),x(2,n._rowSeletion==r.id?2:-1),l(1),f("ngClass",b(16,k,n._rowSeletion==r.id)),l(1),A(" ",r.mobileNumber,"- ",r.phoneNumber," "),l(1),x(5,n._rowSeletion==r.id?5:-1),l(1),f("ngClass",b(18,k,n._rowSeletion==r.id)),l(1),u(" ",r.conceptCompany.name," "),l(1),x(8,n._rowSeletion==r.id?8:-1),l(1),f("ngClass",b(20,k,n._rowSeletion==r.id)),l(1),u(" ",r.typeCompanyMode," "),l(1),x(11,n._rowSeletion==r.id?11:-1)}}function ue(a,_){if(a&1&&E(0,me,12,22,null,null,le),a&2){let r=d();y(r._projectService._listProject)}}var ye=(()=>{let _=class _{constructor(n,o,t,p,m){this.router=m,this._configservice=n,this._projectService=o,this._cdRef=t,this._Permission=p}ngOnInit(){var n=this._Permission.ValidationLogin("admin-project");n&&(this.GetListAdressConcept(L.AdressConcept()),this.GetAllProject("all"),this.GetAllCompany("all"))}Delete(n){return P(this,null,function*(){var o=yield this._projectService.Delete(n).subscribe(t=>{t.status?(this.DeleteList(n),alert("Eliminado")):alert("No Eliminado")})})}Edit(n){this._projectService.GetProjectById(n).subscribe(o=>{this._projectService._project=o.data})}SaveAndUpdateProject(){return P(this,null,function*(){console.log("Save",this._projectService._project),this._projectService._project.id=="00000000-0000-0000-0000-000000000000"?this.SavedProject():this.UpdateProject()})}UpdateProject(){return P(this,null,function*(){this.ValidateConcept(),this._projectService.Upbdate(this._projectService._project).subscribe(n=>{n.status?(this._projectService._listProject=this._projectService._listProject.filter(o=>o.id!=this._projectService._project.id),this._projectService._listProject.push(n.data),this._projectService._project=new T,this._cdRef.detectChanges(),alert("Actualizado")):alert("No Actualizado")})})}SavedProject(){return P(this,null,function*(){this.ValidateConcept(),this._projectService.Saved(this._projectService._project).subscribe(n=>{n.status?(this._projectService._listProject.push(n.data),this._projectService._project=new T,this._cdRef.detectChanges()):alert("No guardado")})})}onSelectChangeAdress(n){let o=n.target.value;if(this._projectService._project==null&&(this._projectService._project=new T),o!="0"){let t=this._projectService.adressList.find(p=>p.id==o);if(t==null||t==null)return!1;this._projectService._project.addressItemId=t.id}return!0}GetListAdressConcept(n){this._projectService.adressList=new Array;var o=this._projectService.GetListAdress("all",n,0);o.subscribe(t=>{this._projectService.adressList=t.data})}GetAllProject(n){this._projectService._listProject=new Array,this._projectService.GetAllProject(n,0).subscribe(o=>{this._projectService._listProject=o.data})}GetAllCompany(n){this._projectService._listCompany=new Array,this._projectService.GetAllCompanys(n,0).subscribe(o=>{this._projectService._listCompany=o.data})}DeleteList(n){let o=this._projectService._listProject.findIndex(t=>t.id===n);o!==-1&&this._projectService._listProject.splice(o,1)}onSelectChangeHorEnd(n){var o=n.target.value;this._projectService._project.storeClosingTime=o}onSelectChangeHorStart(n){var o=n.target.value;this._projectService._project.storeOpeningTime=o}onSelectChangeCompany(n){var o=n.target.value,t=this._projectService._listCompany.find(m=>m.id==o);if(t!=null){var p=new w;p.id=t.id,p.name=t.name,this._projectService._project.conceptCompany=p,this._projectService._project.idCompany=p.id}}onSelectChangeTypeProject(n){var o=n.target.value;o!=""&&o!=0&&(this._projectService._project.typeCompanyMode=o)}GetProjectAdressName(n){var o=this._projectService.adressList.find(t=>t.id==n);return o?.concept.name+" "+o?.name}Selection(n){this._rowSeletion=n,this._cdRef.detectChanges()}languageTraslate(n){return n}ValidateConcept(){this._projectService._project.conceptCompany==null&&(this._projectService._project.conceptCompany=new w),this._projectService._project.conceptPrevious==null&&(this._projectService._project.conceptPrevious=new w),this._projectService._project.conceptProject==null&&(this._projectService._project.conceptProject=new w),this._projectService._project.addressItemId==""&&(this._projectService._project.addressItemId="")}Route(n){window.open(n,"_blank")}};_.\u0275fac=function(o){return new(o||_)(h(D),h(Q),h(F),h(J),h($))},_.\u0275cmp=I({type:_,selectors:[["app-admin-project"]],standalone:!0,features:[O],decls:115,vars:18,consts:[[1,"concept-item"],[1,"container-input"],[1,"text-form"],["type","text","name","name",3,"ngModel","ngModelChange"],["type","text","name","code",3,"ngModel","ngModelChange"],[1,"gps-btn"],[3,"click"],["value","0","selected",""],["value","Vendedor Final"],["value","Proveedor"],["value","Fabricante"],["value","Defaul"],[3,"change"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],["value","11"],["value","12"],["value","13"],["value","14"],["value","15"],["value","16"],["value","17"],["value","18"],[1,"btn-scroll"],[1,"scroll"],[1,"container-concep"],[1,"div-header"],[2,"height","200px","width","100vw"],[3,"value"],[1,"bi","bi-floppy2-fill"],[1,"div-item",3,"ngClass","id","click"],["class","edit-visible"],[1,"div-item",3,"ngClass","click"],[1,"edit-visible"],[1,"bi","bi-pencil"],[1,"bi","bi-trash3"]],template:function(o,t){o&1&&(e(0,"app-permission")(1,"div",0)(2,"div",1)(3,"p",2),c(4),e(5,"input",3),s("ngModelChange",function(m){return t._projectService._project.name=m}),i(),c(6),e(7,"input",4),s("ngModelChange",function(m){return t._projectService._project.mobileNumber=m}),i(),c(8),e(9,"input",4),s("ngModelChange",function(m){return t._projectService._project.phoneNumber=m}),i()(),c(10),e(11,"div",5)(12,"input",4),s("ngModelChange",function(m){return t._projectService._project.gpsGoogle=m}),i(),j(13,X,2,0,"button"),i(),e(14,"p",2),c(15),e(16,"select",6),s("click",function(m){return t.onSelectChangeTypeProject(m)}),j(17,Y,2,1,"option",7)(18,Z,2,1),e(19,"option",8),c(20,"Vendedor Final"),i(),e(21,"option",9),c(22,"Proveedor"),i(),e(23,"option",10),c(24,"Fabricante"),i(),e(25,"option",11),c(26,"Defaul"),i()()(),e(27,"p",2),c(28),e(29,"select",6),s("click",function(m){return t.onSelectChangeCompany(m)}),j(30,ee,2,1,"option",7)(31,te,2,1),E(32,ie,2,2,"option",31,W),i()(),e(34,"p",2),c(35),e(36,"select",12),s("change",function(m){return t.onSelectChangeAdress(m)}),j(37,ne,2,1,"option",7)(38,oe,2,1)(39,ce,2,0),i()(),e(40,"div")(41,"p"),c(42,"Apertura "),i(),e(43,"div")(44,"select",12),s("change",function(m){return t.onSelectChangeHorStart(m)}),e(45,"option",13),c(46,"6:00:am"),i(),e(47,"option",14),c(48,"7:00:am"),i(),e(49,"option",15),c(50,"8:00:am"),i(),e(51,"option",16),c(52,"9:00:am"),i(),e(53,"option",17),c(54,"10:00:am"),i(),e(55,"option",18),c(56,"11:00:am"),i(),e(57,"option",19),c(58,"12:00:am"),i(),e(59,"option",20),c(60,"1:00:pm"),i(),e(61,"option",21),c(62,"2:00:pm"),i(),e(63,"option",22),c(64,"3:00:pm"),i(),e(65,"option",23),c(66,"4:00:pm"),i(),e(67,"option",24),c(68,"5:00:pm"),i(),e(69,"option",25),c(70,"6:00:pm"),i()()(),e(71,"p"),c(72,"Cierre "),i(),e(73,"div")(74,"select",12),s("change",function(m){return t.onSelectChangeHorEnd(m)}),e(75,"option",13),c(76,"6:00:am"),i(),e(77,"option",14),c(78,"7:00:am"),i(),e(79,"option",15),c(80,"8:00:am"),i(),e(81,"option",16),c(82,"9:00:am"),i(),e(83,"option",17),c(84,"10:00:am"),i(),e(85,"option",18),c(86,"11:00:am"),i(),e(87,"option",19),c(88,"12:00:am"),i(),e(89,"option",20),c(90,"1:00:pm"),i(),e(91,"option",21),c(92,"2:00:pm"),i(),e(93,"option",22),c(94,"3:00:pm"),i(),e(95,"option",23),c(96,"4:00:pm"),i(),e(97,"option",24),c(98,"5:00:pm"),i(),e(99,"option",25),c(100,"6:00:pm"),i()()()()(),e(101,"div",26),j(102,ae,2,0,"button"),i()(),e(103,"div",27)(104,"div",28)(105,"div",29),c(106," Sucursal "),i(),e(107,"div",29),c(108," Celular "),i(),e(109,"div",29),c(110," Empresa "),i(),e(111,"div",29),c(112," Tipo "),i(),j(113,ue,2,0),i()(),S(114,"div",30),i()),o&2&&(l(4),u(" ",t.languageTraslate("Nombre")," "),l(1),f("ngModel",t._projectService._project.name),l(1),u(" ",t.languageTraslate("celular")," "),l(1),f("ngModel",t._projectService._project.mobileNumber),l(1),u(" ",t.languageTraslate("Telefono")," "),l(1),f("ngModel",t._projectService._project.phoneNumber),l(1),u(" ",t.languageTraslate("Url GPS")," "),l(2),f("ngModel",t._projectService._project.gpsGoogle),l(1),x(13,t._projectService._project.gpsGoogle!=""?13:-1),l(2),u(" ",t.languageTraslate("Tipo de empresa")," "),l(2),x(17,t._projectService._project.id=="00000000-0000-0000-0000-000000000000"?17:18),l(11),u(" ",t.languageTraslate("Empresa")," "),l(2),x(30,t._projectService._project.id!="00000000-0000-0000-0000-000000000000"?30:31),l(2),y(t._projectService._listCompany),l(3),u(" ",t.languageTraslate("Ubicaci\xF3n de venta")," "),l(2),x(37,t._projectService._project.id=="00000000-0000-0000-0000-000000000000"?37:38),l(2),x(39,t._projectService.adressList!=null?39:-1),l(63),x(102,102),l(11),x(113,t._projectService._listProject!=null?113:-1))},dependencies:[q,z,B,R,U,H,G,N,K],styles:[".scroll-menu[_ngcontent-%COMP%]{width:100vw;overflow:hidden}.containe-concept-menu[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:5px;row-gap:5px;column-gap:5px;background-color:#000;width:100%;overflow:auto}.containe-concept-menu[_ngcontent-%COMP%]   .tab-item[_ngcontent-%COMP%]{min-width:100px;padding:5px;border-radius:5px;background-color:#000;color:#fff}.active[_ngcontent-%COMP%]{border:1px solid white;box-shadow:-1px 1px 2px #fff,inset 0 0 8px #fff}.disable[_ngcontent-%COMP%]{border:none;box-shadow:0 0 2px #fff}.btn-scroll[_ngcontent-%COMP%]{display:flex;justify-content:end;column-gap:10px;align-items:center;background-color:#ff4500;box-shadow:0 0 5px #000;padding:5px;border-radius:5px}.btn-scroll[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:5px;background-color:#000;box-shadow:0 0 5px #000,inset 0 0 5px #fff;color:#fff;padding:2px;height:45px;min-width:50px;display:flex;justify-content:center;align-items:center}.btn-scroll[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:25px}.scroll[_ngcontent-%COMP%]{display:flex;width:99%;padding:5px;background-color:#0ff;height:200px;overflow:hidden;justify-content:start}.container-concep[_ngcontent-%COMP%]{display:grid;row-gap:1px;grid-template-columns:repeat(4,1fr);background-color:red;grid-template-rows:min-content;width:100%;align-content:start;overflow-y:auto}.div-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;background-color:#000;border:1px solid white;height:30px;color:#fff}.div-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;background-color:gray;border:1px solid white;height:30px;color:#fff;position:relative}.row-select[_ngcontent-%COMP%]{background-color:green}.edit-visible[_ngcontent-%COMP%]{top:5px;right:0;position:absolute}"]});let a=_;return a})();export{ye as CreateProject};
