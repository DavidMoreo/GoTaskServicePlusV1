import{a as z}from"./chunk-M2Q6ZE5U.js";import{a as M}from"./chunk-CJZT23PP.js";import{a as R}from"./chunk-W3XRPWO3.js";import{a as G}from"./chunk-JSEALS6B.js";import"./chunk-ROSI6QSI.js";import"./chunk-VYAYXPXE.js";import"./chunk-OMG2A7U2.js";import"./chunk-VLMSGL5J.js";import"./chunk-DY7UBFIR.js";import"./chunk-MV2P2U5R.js";import{$ as O,A as l,B as w,C as E,Ca as $,E as x,H as f,I as y,Ja as S,K as F,L as P,M as a,N as c,Na as j,O as u,P as g,Pa as N,Q as _,Qa as L,R as o,Va as A,X as C,Z as v,aa as h,i as b,ia as D,ka as I,s as T,u as d,v as m}from"./chunk-EYTT7SII.js";function B(r,s){if(r&1){let n=g();a(0,"button",9),_("click",function(){d(n);let t=o();return m(t.SaveCompany())}),u(1,"i",10),c()}}var q=(r,s)=>s.name;function H(r,s){if(r&1){let n=g();a(0,"div",13)(1,"button",9),_("click",function(){d(n);let t=o().$implicit,i=o(2);return m(i.Edit(t.id))}),u(2,"i",14),c(),a(3,"button",9),_("click",function(){d(n);let t=o().$implicit,i=o(2);return m(i.Delete(t.id))}),u(4,"i",15),c()()}}function J(r,s){if(r&1){let n=g();a(0,"div",13)(1,"button",9),_("click",function(){d(n);let t=o().$implicit,i=o(2);return m(i.Edit(t.id))}),u(2,"i",14),c(),a(3,"button",9),_("click",function(){d(n);let t=o().$implicit,i=o(2);return m(i.Delete(t.id))}),u(4,"i",15),c()()}}function K(r,s){if(r&1){let n=g();a(0,"div",13)(1,"button",9),_("click",function(){d(n);let t=o().$implicit,i=o(2);return m(i.Edit(t.id))}),u(2,"i",14),c(),a(3,"button",9),_("click",function(){d(n);let t=o().$implicit,i=o(2);return m(i.Delete(t.id))}),u(4,"i",15),c()()}}function Q(r,s){if(r&1){let n=g();a(0,"div",13)(1,"button",9),_("click",function(){d(n);let t=o().$implicit,i=o(2);return m(i.Edit(t.id))}),u(2,"i",14),c(),a(3,"button",9),_("click",function(){d(n);let t=o().$implicit,i=o(2);return m(i.Delete(t.id))}),u(4,"i",15),c()()}}var k=r=>({"row-select":r});function U(r,s){if(r&1){let n=g();a(0,"div",11),_("click",function(){let i=d(n).$implicit,p=o(2);return m(p.Selection(i.id))}),C(1),f(2,H,5,0,"div",12),c(),a(3,"div",11),_("click",function(){let i=d(n).$implicit,p=o(2);return m(p.Selection(i.id))}),C(4),f(5,J,5,0,"div",12),c(),a(6,"div",11),_("click",function(){let i=d(n).$implicit,p=o(2);return m(p.Selection(i.id))}),C(7),f(8,K,5,0,"div",12),c(),a(9,"div",11),_("click",function(){let i=d(n).$implicit,p=o(2);return m(p.Selection(i.id))}),C(10),f(11,Q,5,0,"div",12),c()}if(r&2){let n=s.$implicit,e=o(2);x("ngClass",h(12,k,e._rowSeletion==n.id)),l(1),v(" ",n.name," "),l(1),y(2,e._rowSeletion==n.id?2:-1),l(1),x("ngClass",h(14,k,e._rowSeletion==n.id)),l(1),v(" ",n.name," "),l(1),y(5,e._rowSeletion==n.id?5:-1),l(1),x("ngClass",h(16,k,e._rowSeletion==n.id)),l(1),v(" ",n.name," "),l(1),y(8,e._rowSeletion==n.id?8:-1),l(1),x("ngClass",h(18,k,e._rowSeletion==n.id)),l(1),v(" ",n.name," "),l(1),y(11,e._rowSeletion==n.id?11:-1)}}function W(r,s){if(r&1&&F(0,U,12,20,null,null,q),r&2){let n=o();P(n._CompanyService._listCompany)}}var le=(()=>{let s=class s{constructor(e,t,i,p){this._company=new M,this._configservice=e,this._cdRef=t,this._CompanyService=i,this._Permission=p}ngOnInit(){var e=this._Permission.ValidationLogin("admin-company");e&&(this.LoadData(),this.LoadCompnys())}LoadCompnys(){return b(this,null,function*(){this.GetAllCompany("all")})}Delete(e){return b(this,null,function*(){var t=yield this._CompanyService.Delete(e).subscribe(i=>{i.status&&(this.DeleteList(e),alert("Eliminado"))})})}Edit(e){this._CompanyService.GetCompanyById(e).subscribe(t=>{this._company=t.data})}SaveCompany(){return b(this,null,function*(){this.ValidateConcept(),+console.log(this._company),yield this._CompanyService.Saved(this._company).subscribe(e=>{e.status?(this._CompanyService._listCompany.push(e.data),this._cdRef.detectChanges()):alert("No guardado")})})}GetAllCompany(e){this._CompanyService._listCompany=new Array,this._CompanyService.GetAllCompanys(e,0).subscribe(t=>{this._CompanyService._listCompany=t.data})}DeleteList(e){let t=this._CompanyService._listCompany.findIndex(i=>i.id===e);t!==-1&&this._CompanyService._listCompany.splice(t,1)}changedInputName(e,t){this.LoadData()}LoadData(){this._company==null&&(this._company=new M)}Selection(e){this._rowSeletion=e,this._cdRef.detectChanges()}languageTraslate(e){return e}ValidateConcept(){this._company.conceptCompany==null&&(this._company.conceptCompany=new S),this._company.conceptPrevious==null&&(this._company.conceptPrevious=new S),this._company.conceptProject==null&&(this._company.conceptProject=new S)}};s.\u0275fac=function(t){return new(t||s)(w($),w(E),w(z),w(G))},s.\u0275cmp=T({type:s,selectors:[["app-admin-company"]],standalone:!0,features:[O],decls:21,vars:6,consts:[[1,"containe-concept"],[1,"container-input"],[1,"text-form"],["type","text","name","name",3,"ngModel","ngModelChange"],["type","text","name","code",3,"ngModel","ngModelChange"],[1,"btn-scroll"],[1,"scroll"],[1,"container-concep"],[1,"div-header"],[3,"click"],[1,"bi","bi-floppy2-fill"],[1,"div-item",3,"ngClass","click"],["class","edit-visible"],[1,"edit-visible"],[1,"bi","bi-pencil"],[1,"bi","bi-trash3"]],template:function(t,i){t&1&&(a(0,"app-permission")(1,"div",0)(2,"div",1)(3,"p",2),C(4),a(5,"input",3),_("ngModelChange",function(V){return i._company.name=V}),c(),C(6),a(7,"input",4),_("ngModelChange",function(V){return i._company.nit=V}),c()()(),a(8,"div",5),f(9,B,2,0,"button"),c()(),a(10,"div",6)(11,"div",7)(12,"div",8),C(13," Nombre "),c(),a(14,"div",8),C(15," F creacion "),c(),a(16,"div",8),C(17," F actualizada "),c(),a(18,"div",8),C(19," Tipo "),c(),f(20,W,2,0),c()()()),t&2&&(l(4),v(" ",i.languageTraslate("Nombre")," "),l(1),x("ngModel",i._company.name),l(1),v(" ",i.languageTraslate("Nit")," "),l(1),x("ngModel",i._company.nit),l(2),y(9,9),l(11),y(20,i._CompanyService._listCompany!=null?20:-1))},dependencies:[A,j,N,L,I,D,R],styles:[".scroll-menu[_ngcontent-%COMP%]{width:100vw;overflow:hidden}.containe-concept-menu[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:5px;row-gap:5px;column-gap:5px;background-color:#000;width:100%;overflow:auto}.containe-concept-menu[_ngcontent-%COMP%]   .tab-item[_ngcontent-%COMP%]{min-width:100px;padding:5px;border-radius:5px;background-color:#000;color:#fff}.active[_ngcontent-%COMP%]{border:1px solid white;box-shadow:-1px 1px 2px #fff,inset 0 0 8px #fff}.disable[_ngcontent-%COMP%]{border:none;box-shadow:0 0 2px #fff}.btn-scroll[_ngcontent-%COMP%]{display:flex;justify-content:end;column-gap:10px;align-items:center;background-color:#ff4500;box-shadow:0 0 5px #000;padding:5px;border-radius:5px}.btn-scroll[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:5px;background-color:#000;box-shadow:0 0 5px #000,inset 0 0 5px #fff;color:#fff;padding:2px;height:45px;min-width:50px;display:flex;justify-content:center;align-items:center}.btn-scroll[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:25px}.scroll[_ngcontent-%COMP%]{display:flex;width:99%;padding:5px;background-color:#0ff;height:200px;overflow:hidden;justify-content:start}.container-concep[_ngcontent-%COMP%]{display:grid;row-gap:1px;grid-template-columns:repeat(4,1fr);background-color:red;grid-template-rows:min-content;width:100%;align-content:start;overflow-y:auto}.div-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;background-color:#000;border:1px solid white;height:30px;color:#fff}.div-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;background-color:gray;border:1px solid white;height:30px;color:#fff;position:relative}.row-select[_ngcontent-%COMP%]{background-color:green}.edit-visible[_ngcontent-%COMP%]{top:5px;right:0;position:absolute}"]});let r=s;return r})();export{le as CreateCompany};
