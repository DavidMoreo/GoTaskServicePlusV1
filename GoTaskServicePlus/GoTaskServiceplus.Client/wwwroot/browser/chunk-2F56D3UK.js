import{b as J}from"./chunk-LQ45HHEO.js";import{a as Q}from"./chunk-W3XRPWO3.js";import{a as K}from"./chunk-JSEALS6B.js";import"./chunk-ROSI6QSI.js";import{a as j}from"./chunk-VYAYXPXE.js";import"./chunk-OMG2A7U2.js";import"./chunk-VLMSGL5J.js";import"./chunk-DY7UBFIR.js";import"./chunk-MV2P2U5R.js";import{$ as O,A as r,B as w,C as G,Ca as $,E as f,H as v,Ha as P,I as C,Ia as g,Ja as S,K as V,L as k,M as c,N as l,Na as R,O as b,P as h,Pa as H,Q as p,Qa as B,R as a,Sa as U,Ta as z,U as L,Va as q,X as d,Y as y,Z as m,aa as E,ba as I,i as A,ia as D,ka as N,s as F,u as _,v as u}from"./chunk-EYTT7SII.js";var W=(o,s)=>s.id;function Z(o,s){if(o&1&&(c(0,"option",15),d(1),l()),o&2){let e=a(2);r(1),y(e.languageTraslate("Seleccionar"))}}function tt(o,s){if(o&1&&(c(0,"option",21),d(1),l()),o&2){let e=s.$implicit;L("value",e.id),r(1),y(e.name)}}function et(o,s){if(o&1&&(c(0,"option",15),d(1),l()),o&2){let e=a(2);r(1),y(e.languageTraslate("Seleccionar"))}}function it(o,s){if(o&1&&(c(0,"option",21),d(1),l()),o&2){let e=s.$implicit;L("value",e.id),r(1),y(e.name)}}function nt(o,s){if(o&1){let e=h();c(0,"div",13)(1,"p",6),d(2),c(3,"select",14),p("onchange",function(i){_(e);let n=a();return u(n.SelectChangedCountry(i))}),v(4,Z,2,1,"option",15),V(5,tt,2,2,"option",21,W),l()(),c(7,"p",6),d(8),c(9,"select",16),p("input",function(i){_(e);let n=a();return u(n.changedCity(i))}),v(10,et,2,1,"option",15),V(11,it,2,2,"option",21,W),l()(),c(13,"p",6),d(14),c(15,"input",17),p("change",function(i){_(e);let n=a();return u(n.changedInputName(i,"AdressConcept"))}),l()(),c(16,"p",6),d(17),c(18,"button",18),p("click",function(){_(e);let i=a();return u(i.LoadGps())}),b(19,"i",19),l(),c(20,"input",20),p("ngModelChange",function(i){_(e);let n=a();return u(n._concept.value=i)}),l()()()}if(o&2){let e=a();r(2),m(" ",e.languageTraslate("Pa\xEDs")," "),r(2),C(4,e._http._contryList.length>0?4:-1),r(1),k(e._http._contryList),r(3),m(" ",e.languageTraslate("Ciudad")," "),r(2),C(10,e._http._cityList.length>0?10:-1),r(1),k(e._http._cityList),r(3),m(" ",e.languageTraslate("Direcci\xF3n")," "),r(1),f("ngModel",e._concept.name),r(2),m(" ",e.languageTraslate("Coordenadas")," "),r(3),f("ngModel",e._concept.value)}}function ot(o,s){if(o&1){let e=h();c(0,"div",13)(1,"p",6),d(2),c(3,"input",22),p("change",function(i){_(e);let n=a();return u(n.changedInputName(i,"typeProduct"))}),l(),d(4),c(5,"input",23),p("change",function(i){_(e);let n=a();return u(n.changedInputValue(i,"typeProduct"))}),l()()()}if(o&2){let e=a();r(2),m(" ",e.languageTraslate("Nombre")," "),r(1),f("ngModel",e._concept.name),r(1),m(" ",e.languageTraslate("Tipo")," "),r(1),f("ngModel",e._concept.value)}}function ct(o,s){if(o&1){let e=h();c(0,"div",13)(1,"p",6),d(2),c(3,"input",22),p("change",function(i){_(e);let n=a();return u(n.changedInputName(i,"CalendarHour"))}),l(),d(4),c(5,"input",23),p("change",function(i){_(e);let n=a();return u(n.changedInputValue(i,"CalendarHour"))}),l()()()}if(o&2){let e=a();r(2),m(" ",e.languageTraslate("Actividad")," "),r(1),f("ngModel",e._concept.name),r(1),m(" ",e.languageTraslate("Cuanto demora esta actividad ")," "),r(1),f("ngModel",e._concept.value)}}function rt(o,s){if(o&1){let e=h();c(0,"i",24),p("click",function(){_(e);let i=a();return u(i.ChangedIsPublic(!1))}),l()}}function at(o,s){if(o&1){let e=h();c(0,"i",25),p("click",function(){_(e);let i=a();return u(i.ChangedIsPublic(!0))}),l()}}function lt(o,s){if(o&1){let e=h();c(0,"button",26),p("click",function(){_(e);let i=a();return u(i.SaveAndUpdateConcept())}),b(1,"i",27),l()}}function st(o,s){o&1&&(c(0,"div",28),d(1," Pa\xEDs - Ciudad "),l(),c(2,"div",28),d(3," Direcci\xF3n "),l(),c(4,"div",28),d(5," Tipo "),l())}function dt(o,s){o&1&&(c(0,"div",28),d(1," Actividad "),l(),c(2,"div",28),d(3," Tiempo "),l(),c(4,"div",28),d(5," Tipo "),l())}var pt=(o,s)=>s.name;function _t(o,s){if(o&1&&d(0),o&2){let e=a().$implicit,t=a(2);m(" ",t.GetConceptValue(e.concept,"name")," ")}}function ut(o,s){if(o&1&&d(0),o&2){let e=a().$implicit;m(" ",e.name," ")}}function Ct(o,s){if(o&1){let e=h();c(0,"div",31)(1,"button",26),p("click",function(){_(e);let i=a().$implicit,n=a(2);return u(n.Edit(i.id))}),b(2,"i",32),l(),c(3,"button",26),p("click",function(){_(e);let i=a().$implicit,n=a(2);return u(n.DeleteConcept(i.id))}),b(4,"i",33),l()()}}function mt(o,s){if(o&1){let e=h();c(0,"div",31)(1,"button",26),p("click",function(){_(e);let i=a().$implicit,n=a(2);return u(n.Edit(i.id))}),b(2,"i",32),l(),c(3,"button",26),p("click",function(){_(e);let i=a().$implicit,n=a(2);return u(n.DeleteConcept(i.id))}),b(4,"i",33),l()()}}function xt(o,s){if(o&1){let e=h();c(0,"div",31)(1,"button",26),p("click",function(){_(e);let i=a().$implicit,n=a(2);return u(n.Edit(i.id))}),b(2,"i",32),l(),c(3,"button",26),p("click",function(){_(e);let i=a().$implicit,n=a(2);return u(n.DeleteConcept(i.id))}),b(4,"i",33),l()()}}var M=o=>({"row-select":o});function ft(o,s){if(o&1){let e=h();c(0,"div",29),p("click",function(){let n=_(e).$implicit,x=a(2);return u(x.Selection(n.id))}),v(1,_t,1,1)(2,ut,1,1)(3,Ct,5,0,"div",30),l(),c(4,"div",29),p("click",function(){let n=_(e).$implicit,x=a(2);return u(x.Selection(n.id))}),d(5),v(6,mt,5,0,"div",30),l(),c(7,"div",29),p("click",function(){let n=_(e).$implicit,x=a(2);return u(x.Selection(n.id))}),d(8),v(9,xt,5,0,"div",30),l()}if(o&2){let e=s.$implicit,t=a(2);f("ngClass",E(9,M,t._rowSeletion==e.id)),r(1),C(1,t._tab=="AdressConcept"?1:2),r(2),C(3,t._rowSeletion==e.id?3:-1),r(1),f("ngClass",E(11,M,t._rowSeletion==e.id)),r(1),m(" ",e.value," "),r(1),C(6,t._rowSeletion==e.id?6:-1),r(1),f("ngClass",E(13,M,t._rowSeletion==e.id)),r(1),m(" ",e.type," "),r(1),C(9,t._rowSeletion==e.id?9:-1)}}function ht(o,s){if(o&1&&V(0,ft,10,15,null,null,pt),o&2){let e=a();k(e._http._adressList)}}var X=(o,s)=>({active:o,disable:s}),Lt=(()=>{let s=class s{constructor(t,i,n,x,T){this.Gps=T,this._concept=new P,this._tab=g.AdressConcept(),this._configservice=t,this._http=i,this._cdRef=n,this._Permission=x}ngOnInit(){var t=this._Permission.ValidationLogin("customer-concept");t&&(this._concept.type=g.AdressConcept(),this.GetListConceptAdress(g.AdressConcept()),this.loadData())}loadData(){return A(this,null,function*(){this.GetListConceptCountry(g.CoutryConcept(),0),this.GetListConceptCity(g.CityConcept(),0)})}changedInputName(t,i){this._concept==null&&(this._concept=new P),this._concept.name=t.target.value,(this._concept.value==""||this._concept.value==null)&&(this._concept.value=t.target.value),this._cdRef.detectChanges()}changedCity(t){this._concept.concept.id=t.target.value;var i=this._http._cityList.find(n=>n.id==this._concept.concept.id);i!=null&&(this._concept.concept.name=i.name),this._cdRef.detectChanges()}SelectChangedCountry(t){}ChangedIsPublic(t){this._concept.isPublic=t,this._cdRef.detectChanges()}changedInputValue(t,i){this._concept.value=t.target.value}DeleteConcept(t){this._http.DeleteConcept(t).subscribe(i=>{i.status?(this.DeleteConceptList(t),alert("Eliminado")):alert("No eliminado")})}DeleteConceptList(t){let i=this._http._adressList.findIndex(n=>n.id===t);i!==-1&&(this._http._adressList.splice(i,1),this._cdRef.detectChanges())}Edit(t){this._http.GetListById(t).subscribe(i=>{this._concept=i.data,console.log(this._concept)})}SaveAndUpdateConcept(){this.ValidateConcept();var t=this._http.SaveAndUpdateConcept(this._concept);t.subscribe(i=>{i.status?(this._http._adressList=this._http._adressList.filter(n=>n.id!=this._concept.id),this._http._adressList.push(i.data),this._concept=new P,this._cdRef.detectChanges()):alert("No Guardado")})}GetListConceptAdress(t){this._http._adressList=new Array,this._http.GetListByName("all",t,0).subscribe(i=>{this._http._adressList=i.data,this._cdRef.detectChanges()})}GetListConceptCountry(t,i){this._http._contryList=new Array,this._http.GetListByName("ALL",t,0).subscribe(n=>{this._http._contryList=n.data,this._cdRef.detectChanges()})}GetListConceptCity(t,i){this._http._cityList=new Array,this._http.GetListByName("ALL",t,0).subscribe(n=>{this._http._cityList=n.data,this._cdRef.detectChanges()})}GetConceptValue(t,i){var n="N/A";if(t!=null){var x=t,T=this._http._cityList.find(Y=>Y.id==x.id);t!=null&&i=="name"&&(n=(T?.concept.name!=null?T?.concept.name:"")+" - "+x.name)}return n}pageTab(t){this._concept=new P,this._tab=t,this.changeType(t)}changeType(t){t=="country"&&(this._concept.type=g.CoutryConcept()),t=="city"&&(this._concept.type=g.CityConcept()),t=="AdressConcept"&&(this._concept.type=g.AdressConcept()),t=="typeProduct"&&(this._concept.type=g.TypeProduct()),this.GetListConceptAdress(this._concept.type),t=="CalendarHour"&&(this._concept.type=g.CalendarHour(),this.GetListConceptAdress(this._concept.type))}loadContryData(t){this.GetListConceptCountry(t,0)}loadCityData(t){this.GetListConceptCity(t,0)}Selection(t){this._rowSeletion=t,this._cdRef.detectChanges()}languageTraslate(t){return t}LoadGps(){var t=this.Gps.GetGps();this._concept.value="lat:   "+t.latitud+"   ,   lng:   "+t.longitud}ValidateConcept(){this._concept.conceptCompany==null&&(this._concept.conceptCompany=new S),this._concept.conceptPrevious==null&&(this._concept.conceptPrevious=new S),this._concept.conceptProject==null&&(this._concept.conceptProject=new S),this._concept.concept==null&&(this._concept.concept=new S)}};s.\u0275fac=function(i){return new(i||s)(w($),w(j),w(G),w(K),w(J))},s.\u0275cmp=F({type:s,selectors:[["app-product-concept_c"]],standalone:!0,features:[O],decls:24,vars:18,consts:[[1,"containe-concept"],[1,"scroll-menu"],[1,"containe-concept-menu"],[1,"tab-item",3,"ngClass","click"],[1,"concept-item"],["class","container-input"],[1,"text-form"],[1,"btn1"],["class","bi bi-toggle-on"],["class","bi bi-toggle-off"],[1,"btn-scroll"],[1,"scroll"],[1,"container-concep"],[1,"container-input"],[3,"onchange"],["value","0","selected",""],[3,"input"],["type","text","name","direction",3,"ngModel","change"],["name","coordinates",3,"click"],[1,"bi","bi-geo-alt-fill"],[3,"ngModel","ngModelChange"],[3,"value"],["type","text","name","name",3,"ngModel","change"],["type","text","name","code",3,"ngModel","change"],[1,"bi","bi-toggle-on",3,"click"],[1,"bi","bi-toggle-off",3,"click"],[3,"click"],[1,"bi","bi-floppy2-fill"],[1,"div-header"],[1,"div-item",3,"ngClass","click"],["class","edit-visible"],[1,"edit-visible"],[1,"bi","bi-pencil"],[1,"bi","bi-trash3"]],template:function(i,n){i&1&&(c(0,"app-permission")(1,"div",0)(2,"div",1)(3,"div",2)(4,"button",3),p("click",function(){return n.pageTab("AdressConcept")}),d(5,"Tus direcciones"),l(),c(6,"button",3),p("click",function(){return n.pageTab("CalendarHour")}),d(7,"Calendario"),l()()(),c(8,"div",4),v(9,nt,21,8,"div",5)(10,ot,6,4,"div",5)(11,ct,6,4,"div",5),c(12,"p",6),d(13),c(14,"button",7),v(15,rt,1,0,"i",8)(16,at,1,0,"i",9),l()(),c(17,"div",10),v(18,lt,2,0,"button"),l()(),c(19,"div",11)(20,"div",12),v(21,st,6,0)(22,dt,6,0)(23,ht,2,0),l()()()()),i&2&&(r(4),f("ngClass",I(12,X,n._tab=="AdressConcept",n._tab!="AdressConcept")),r(2),f("ngClass",I(15,X,n._tab=="CalendarHour",n._tab!="CalendarHour")),r(3),C(9,n._tab=="AdressConcept"?9:-1),r(1),C(10,n._tab=="typeProduct"?10:-1),r(1),C(11,n._tab=="CalendarHour"?11:-1),r(2),m(" ",n.languageTraslate("Publico")," "),r(2),C(15,n._concept.isPublic?15:-1),r(1),C(16,n._concept.isPublic?-1:16),r(2),C(18,18),r(3),C(21,n._tab=="AdressConcept"?21:-1),r(1),C(22,n._tab=="CalendarHour"?22:-1),r(1),C(23,n._http._adressList!=null?23:-1))},dependencies:[q,U,z,R,H,B,N,D,Q],styles:[".scroll-menu[_ngcontent-%COMP%]{width:100vw;overflow:hidden}.containe-concept-menu[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:5px;row-gap:5px;column-gap:5px;background-color:#000;width:100%;overflow:auto}.containe-concept-menu[_ngcontent-%COMP%]   .tab-item[_ngcontent-%COMP%]{min-width:100px;padding:5px;border-radius:5px;background-color:#000;color:#fff}.active[_ngcontent-%COMP%]{border:1px solid white;box-shadow:-1px 1px 2px #fff,inset 0 0 8px #fff}.disable[_ngcontent-%COMP%]{border:none;box-shadow:0 0 2px #fff}.btn-scroll[_ngcontent-%COMP%]{display:flex;justify-content:end;column-gap:10px;align-items:center;background-color:#ff4500;box-shadow:0 0 5px #000;padding:5px;border-radius:5px}.btn-scroll[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:5px;background-color:#000;box-shadow:0 0 5px #000,inset 0 0 5px #fff;color:#fff;padding:2px;height:45px;min-width:50px;display:flex;justify-content:center;align-items:center}.btn-scroll[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:25px}.scroll[_ngcontent-%COMP%]{display:flex;width:99%;padding:5px;background-color:#0ff;height:200px;overflow:hidden;justify-content:start}.container-concep[_ngcontent-%COMP%]{display:grid;row-gap:1px;grid-template-columns:repeat(3,1fr);background-color:red;grid-template-rows:min-content;width:100%;align-content:start;overflow-y:auto}.div-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;background-color:#000;border:1px solid white;height:30px;color:#fff}.div-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;background-color:gray;border:1px solid white;height:30px;color:#fff;position:relative}.row-select[_ngcontent-%COMP%]{background-color:green}.edit-visible[_ngcontent-%COMP%]{top:5px;right:0;position:absolute}"]});let o=s;return o})();export{Lt as ConceptProductCustomer};
