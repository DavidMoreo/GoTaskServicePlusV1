import{$ as M,A as a,B as c,C as P,Ca as l,F as w,Fa as j,H as p,I as h,M as s,N as d,O as m,R as u,U as y,X as f,Z as x,aa as O,k as I,oa as L,p as b,r as g,s as S,x as C}from"./chunk-EYTT7SII.js";var z=(()=>{let i=class i{constructor(t,e){this._http=t,this._ActionLoading=new I,this._ActionLoading$=this._ActionLoading.asObservable(),this.loadImm=!1,this.statusLoading=!1,this._active=!1,this._count=0,this.alertId=0,this.alertIdTimer=0,this._host=e}Loading(t,e="Espere un momento...",o=0){this._active=t,this._count=o,this._text=e,this._ActionLoading.next({mode:t,count:o,msg:e})}LoadingTimer(){if(!this.statusLoading){this.statusLoading=!0;var t=setInterval(()=>{this._active=!1,clearInterval(t)},1e3)}}startTimer(){this.intervalId=setInterval(()=>{this.alertIdTimer==this.alertId&&this._active&&(this._active=!1,clearInterval(this.intervalId))},39e3),this.alertIdTimer=this.alertId}GetImgProduct(t,e,o){e="3fa85f64-5717-4562-b3fc-2c963f66afa6";var v=this._http.get(this._host.GetHostApi()+`Product/GetProductImageByName?filter=${t}&typeId=${e}`);return v.subscribe({next:_=>{this.listProductImg=_.data,this.productImg=this.listProductImg[0],this.productImg.url=this.productImg.url.replace("PC","PHONE")},error:_=>{}}),v}};i.\u0275fac=function(e){return new(e||i)(g(L),g(l))},i.\u0275prov=b({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var G=n=>({width:n});function A(n,i){if(n&1&&(s(0,"div",6)(1,"b"),f(2),d()()),n&2){let r=u(2);a(1),w(O(3,G,r._Service._text+"%")),a(1),x("",r._Service._count,"%")}}function D(n,i){if(n&1&&(s(0,"div",1),m(1,"img",2),s(2,"p",3),f(3),m(4,"img",4),d(),p(5,A,3,5,"div",5),d()),n&2){let r=u();a(1),y("src",r._Service.productImg.url,C),a(2),x("",r._Service._text," "),a(2),h(5,r._Service._count>0?5:-1)}}var R=(()=>{let i=class i{constructor(t,e,o){this._cdRef=o,this.active=!1,this._Service=t,this._configservice=e}ngOnInit(){this._Service._text="Espere un momento...";var t=!1;t||(this._Service.productImg=new j,this._Service.productImg.url="/assets/logo.png",this._Service.productImg.code="")}ngDoCheck(){}ImgLoading(){if(this._Service.listProductImg==null||this._Service.listProductImg==null||this._Service.listProductImg.length<=0)return this._Service.GetImgProduct("partial","",0),!1;var t=Math.floor(Math.random()*(this._Service.listProductImg.length-0))+0;return this._Service.productImg=this._Service.listProductImg[t],this._Service.productImg.url=this._Service.productImg.url.replace("PC","PHONE"),this._cdRef.detectChanges(),!0}close(){this._Service.Loading(!1)}open(){this._Service.Loading(!0)}ngOnDestroy(){this._ServiceSubscription!=null&&this._ServiceSubscription.unsubscribe()}GetUrlImg(t,e){var o=this._configservice.GetUrlImgItem(t,e);return o}startTimerImg(){this._Service.loadImm||(clearInterval(this.intervalId),this.intervalId=setInterval(()=>{this.ImgLoading(),this._Service.loadImm=!0},1e3))}};i.\u0275fac=function(e){return new(e||i)(c(z),c(l),c(P))},i.\u0275cmp=S({type:i,selectors:[["app-common-loading"]],inputs:{active:"active"},standalone:!0,features:[M],decls:1,vars:1,consts:[["class","text-center loading "],[1,"text-center","loading"],["alt","Loading",1,"image-loading",3,"src"],[1,"text-msg"],["src","assets/loading.gif","alt","Loading",1,"loading-image","loading-partial"],["class","text"],[1,"text"]],template:function(e,o){e&1&&p(0,D,6,3,"div",0),e&2&&h(0,o._Service._active||o.active?0:-1)},styles:[".loading[_ngcontent-%COMP%]{font-size:20px;height:80px;color:#000}.loading-image[_ngcontent-%COMP%]{max-height:300px;width:auto;border-radius:5px;z-index:1000}@media (max-width: 450px){.loading-image[_ngcontent-%COMP%]{max-height:90%;width:90%;border-radius:5px;z-index:1000;box-shadow:0 0 5px #000}}.loading-div[_ngcontent-%COMP%]{background-color:#ff4500;box-shadow:0 0 5px #000,0 0 10px #000 inset;width:60px;height:60px}.text-center[_ngcontent-%COMP%]{background-color:#1b0d0859;width:100vw;height:100vh;display:flex;justify-content:center;align-items:center;position:absolute;top:0;z-index:9}.text[_ngcontent-%COMP%]{font-size:20px;height:35px;color:#000;top:60px;position:absolute;color:#fff;font-size:25px;background-color:#fff;display:flex;justify-content:start;align-items:center;border-radius:5px;box-shadow:0 0 5px #000,0 0 5px inset;width:99vw;overflow:hidden}.text[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{height:100%;min-width:50px;background-color:green;text-align:center;display:flex;justify-content:center;align-items:center}.text-msg[_ngcontent-%COMP%]{background-color:#ff4500;position:absolute;z-index:1001;box-shadow:0 0 5px #000;text-align:center;padding:5px;border-radius:5px;font-size:15px;width:100%;color:#fff;top:90px;bottom:auto;display:flex;justify-content:center;align-items:center;column-gap:10px}@media (max-width: 450px){.text-msg[_ngcontent-%COMP%]{font-size:13px}}.image-loading[_ngcontent-%COMP%]{width:auto;height:300px;z-index:100;border-radius:5px}@media (max-width: 450px){.image-loading[_ngcontent-%COMP%]{height:200px}}.loading-partial[_ngcontent-%COMP%]{height:20px;width:20px}.div-public[_ngcontent-%COMP%]{background-color:#fff;padding:5px;border-radius:5px;align-items:center;justify-content:center;display:flex;flex-direction:column;box-shadow:0 0 5px #000;background-color:#ff4500;margin-top:50px}.price-public[_ngcontent-%COMP%]{background-color:#ff4500;width:100%;text-align:center;border-radius:5px;color:#fff;font-size:26px}"]});let n=i;return n})();export{z as a,R as b};
