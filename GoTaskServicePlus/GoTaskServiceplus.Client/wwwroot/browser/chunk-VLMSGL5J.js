import{a as v}from"./chunk-MV2P2U5R.js";import{Aa as b,Ba as u,Ca as S,g as I,p as a,r as o,xa as g}from"./chunk-EYTT7SII.js";var l=class{constructor(){this.status=!1}};var d=(()=>{let t=class t{constructor(){this.timer=9e3,this.msg=new l}Alert(e,i="green",n=12e3){clearInterval(this.intervalAlertClosed),this.msg.msg=e,this.msg.color=i,this.msg.status=!0,this.StartTimerAlert(n)}StartTimerAlert(e){this.intervalAlertClosed=setInterval(()=>{this.CloseAlert(),clearInterval(this.intervalAlertClosed)},e)}GetMsg(){return this.msg}CloseAlert(){this.msg.msg="",this.msg.status=!1,this.msg.color="",clearInterval(this.intervalAlertClosed)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=a({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var m=class{constructor(){}};var y=(()=>{let t=class t{constructor(){this.loginStatus=!1}StatusLogin(e){this.loginStatus=e}GetStatusLogin(){return this.loginStatus}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=a({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var h=I(b());var j=(()=>{let t=class t{constructor(e){this._host=e}encryptData(e){return h.default.AES.encrypt(e,this._host.secretKey()).toString()}decryptData(e){try{return h.default.AES.decrypt(e,this._host.secretKey()).toString(h.default.enc.Latin1)}catch{return""}}};t.\u0275fac=function(i){return new(i||t)(o(S))},t.\u0275prov=a({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var K=(()=>{let t=class t{constructor(e,i,n,p,c,s){this.http=e,this.Nav=i,this.route=n,this._StorageService=p,this._EncryptService=c,this._Alert=s,this._route=n,this._http=e}GetStatus(){return!0}getLogin(e,i){var n=new m;let p={Email:e,Password:i};var c=this.http.postHttp("Login/loging",p);return c.subscribe(s=>{s.msg&&s.msg!=""&&this._Alert.Alert(s.msg),this.SavedStatusLogin(s.data.keyLogin),this.SavedRol(s.rols),this._StorageService.SetProject(s.data.nameProject),this._StorageService.SetNameUser(s.data.nameUser),s.data.keyLogin!=null?(this.route.navigate(["home-menu"]),this.Nav.StatusLogin(!0)):this.Nav.StatusLogin(!1)}),c}SavedStatusLogin(e){this._StorageService.SetKeyUser(e)}SavedRol(e){this._StorageService.SetRol(JSON.stringify(e))}};t.\u0275fac=function(i){return new(i||t)(o(v),o(y),o(g),o(u),o(j),o(d))},t.\u0275prov=a({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();export{j as a,d as b,y as c,K as d};
