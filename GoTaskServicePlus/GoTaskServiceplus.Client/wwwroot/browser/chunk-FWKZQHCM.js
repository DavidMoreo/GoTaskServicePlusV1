import{a as _}from"./chunk-ISTIWSIF.js";import{a as E}from"./chunk-Q2UCRY37.js";import{a as q}from"./chunk-MVUZ45C4.js";import{d as M}from"./chunk-VLMSGL5J.js";import{a as N}from"./chunk-DY7UBFIR.js";import{$ as O,A as p,B as u,Ca as l,E as j,Ea as A,M as c,N as d,O as g,Q as m,U as G,X as C,Y as x,Z as k,i as I,la as w,oa as y,p as f,r as a,s as P,x as B,xa as v}from"./chunk-EYTT7SII.js";var K=(()=>{let r=class r{constructor(t,i,e,o,s,b){this.route=t,this._valueSeacrh="",this.product=new A,this.quantity=0,this._configLanguage=i,this._loginSevice=o,this._configservice=e,this._ProductItemService=s,this._CartService=b}ngOnInit(){}ImgError(){}QuantityProduct(t,i){this._CartService.GetAllCartStorage();var e=this._CartService._listProductCart.find(s=>s.id==i);if(!(e==null||e==null)){this._CartService.RemoveCartById(i),t?e.quantity++:e.quantity--;var o=this._CartService._listProduct.find(s=>s.id==i);o!=null&&this._CartService.AddProductCart(o,e.quantity),o!=null&&this._CartService.GetAllCartStorage()}}CartBuyAdd(t){this._CartService.AddProductCart(t)}DeleteBuyCart(t){this._CartService.RemoveCartById(t),this._CartService.GetAllCartStorage(),this._CartService._listProduct=this._CartService._listProduct.filter(i=>i.id!=t)}GetQuantity(t){this._CartService.GetAllCartStorage();var i=this._CartService._listProductCart.find(e=>e.id==t);return i==null||i==null?0:i.quantity}SelctProduct(t){var i="";t.name.split(" ").forEach(e=>{e!=""&&(i+=e+(e!=""?"-":""))}),this.Route("select-product/"+t.idTypeOfProduct.value.replace(" ","-").replace(" ","")+"/"+i+"/"+t.id)}GetUrlImg(t,i){var e=this._configservice.GetUrlImgItem(t,i);return e}GeNameConcepNumberVista(t){return t!=null&&t!=null?t.value:0}Route(t){this.route.navigate([t])}languageTraslate(t){return t}};r.\u0275fac=function(i){return new(i||r)(u(v),u(E),u(l),u(M),u(q),u(_))},r.\u0275cmp=P({type:r,selectors:[["app-item-product-cart"]],inputs:{product:"product",quantity:"quantity"},standalone:!0,features:[O],decls:19,vars:6,consts:[[1,"menu-item-product"],[1,"container-item-product","position-relative"],[1,"img-continer"],[1,"img-product",3,"src","alt","title","click","onerror"],[1,"width","name","height"],[1,"div-prices"],[1,"price","height"],[1,"menu-item"],[1,"delete",3,"click"],[1,"bi","bi-trash"],[1,"menu-item-quantity"],[1,"quantity"],[1,"menu-add",3,"click"],[1,"bi","bi-caret-down"],[1,"bi","bi-caret-up-fill"]],template:function(i,e){i&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"img",3),m("click",function(){return e.SelctProduct(e.product)})("onerror",function(){return e.ImgError()}),d(),c(4,"b",4),C(5),d()(),c(6,"div",5)(7,"b",6),C(8),d()(),c(9,"div",7)(10,"button",8),m("click",function(){return e.DeleteBuyCart(e.product.id)}),g(11,"i",9),d(),c(12,"div",10)(13,"div",11),C(14),d(),c(15,"button",12),m("click",function(){return e.QuantityProduct(!1,e.product.id)}),g(16,"i",13),d(),c(17,"button",12),m("click",function(){return e.QuantityProduct(!0,e.product.id)}),g(18,"i",14),d()()()()()),i&2&&(p(3),G("src",e.GetUrlImg(e.product.firsImg,"PHONE"),B),j("alt",e.product.name)("title",e.product.name),p(2),x(e.product.name),p(3),x(e.product.priceString),p(6),k(" # ",e.GetQuantity(e.product.id)," "))},styles:[".menu-item-product[_ngcontent-%COMP%]{max-width:400px;min-width:400px;height:auto;min-height:50px;background-color:#ebebeb;padding:5px;overflow:hidden;border-radius:5px;box-shadow:0 0 5px #000}@media (max-width: 480px){.menu-item-product[_ngcontent-%COMP%]{min-width:90vw;max-width:90vw;width:auto}}.menu-item-product[_ngcontent-%COMP%]   .img-product[_ngcontent-%COMP%]{height:59px;width:100px;border-radius:5px;box-shadow:0 0 2px #000}.img-continer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;column-gap:5px}.menu-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.menu-item-quantity[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;column-gap:5px;background-color:#ff4500;padding:5px;border-radius:5px;box-shadow:0 0 5px #000;width:150px;border:1px solid black}.menu-add[_ngcontent-%COMP%]{border-radius:5px;border:none;width:25px;height:25px;box-shadow:0 0 5px #000,0 0 3px #fff inset;background-color:#888;color:#fff;border:1px solid white;display:flex;justify-content:center;align-items:center}.quantity[_ngcontent-%COMP%]{color:#fff;display:flex;justify-content:center;align-items:center;text-shadow:-1px 1px 1px black}.div-prices[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:end;column-gap:2px;padding:5px;border-radius:5px}.delete[_ngcontent-%COMP%]{background-color:transparent;border-radius:5px;border:none;width:40px;font-size:20px;color:red}.delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{filter:drop-shadow(-1px -1px 1px black)}.name[_ngcontent-%COMP%]{font-size:12px;text-align:center}"]});let n=r;return n})();var h=class{constructor(){this.idProduct="00000000-0000-0000-0000-000000000000",this.ico=""}},S=class{constructor(){this.idBuyer="00000000-0000-0000-0000-000000000000",this.idBuy="00000000-0000-0000-0000-000000000000",this.customer="",this.mobileNumber="",this.address="",this.note=""}};var L=class{constructor(){this.purchaseGenerated="Compra en verificaci\xF3n",this.purchaseCancelled="Compra cancelada",this.purchaseCancelledByCustomer="Compra cancelada por cliente",this.purchaseCancelledByVendor="Compra cancelada por vendedor",this.purchaseCancelledByAdmin="Compra cancelada por administrador",this.purchaseInProcess="Compra en preparaci\xF3n",this.purchaseInDelivery="Compra en reparto o lista para recolecci\xF3n",this.purchaseCompleted="Compra entregada"}};var H=(()=>{let r=class r{constructor(t,i){this.http=t,this.host=i,this._host=i,this._http=t}showNotification(t,i){if(!("Notification"in window)){console.error("Este navegador no soporta notificaciones");return}Notification.requestPermission().then(e=>{if(e==="granted"){let o=new Notification(t,i)}})}};r.\u0275fac=function(i){return new(i||r)(a(y),a(l))},r.\u0275prov=f({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();var rt=(()=>{let r=class r{constructor(t,i,e,o,s,b){this.http=t,this.host=i,this._Notifi=o,this.route=s,this._CartService=b,this.isBuyProduct=!1,this.buy=new h,this._host=i,this._http=t,this._loading=e}SaveBuyCountomer(t){let i=new w({"Content-Type":"application/json"});var e=this._http.post(this._host.GetHostApi()+"BuyCustomer/AddBuyCustomer?",t,{headers:i});return this._loading.Loading(!0),e.subscribe(o=>{o.status&&(this._Notifi.showNotification("Compra realizada, nos comunic\xE1remos contigo."),alert("Tu compra fue guardada, muy pronto se pondr\xE1n en contacto contigo para programar la entrega, muchas gracias por tu compra."),this._CartService.Clear(),this._CartService.GetAllCartStorage(),this.isBuyProduct=!1,this.buy=new h,this.buy.Buyer=new S,this._listBuyStorageTemp=o.data,this._listBuyStorageTemp.forEach(s=>{this.AddProductCart(s)}),this.RemoveCart(),this.Route("product-buy")),this._loading.Loading(!1)}),e}GetCodeVerification(t){return I(this,null,function*(){let i=new w({"Content-Type":"application/json"});var e=this._http.get(this._host.GetHostApi()+`BuyCustomer/GetCodeVerification?number=${t}`);return e})}GetAllCartStorage(){var t=window.localStorage.getItem("BuyList");t!=null&&t!=null&&t!=""&&(this._listBuyStorage=JSON.parse(t)),this._listBuyStorage==null&&(this._listBuyStorage=new Array)}AddProductCart(t){var i=this.GetCartById(t);(i==null||i==null)&&(this._listBuyStorage.push(t),window.localStorage.setItem("BuyList",JSON.stringify(this._listBuyStorage)))}RemoveCartById(t){this.GetAllCartStorage(),this._listBuyStorage=this._listBuyStorage.filter(i=>i!=t),window.localStorage.setItem("BuyList",JSON.stringify(this._listBuyStorage))}RemoveCart(){window.localStorage.setItem("cartBuy","")}GetCartById(t){this.GetAllCartStorage();var i=this._listBuyStorage.find(e=>e==t);return i}BuyProduct(t){this.isBuyProduct=!0}Route(t){this.route.navigate([t])}};r.\u0275fac=function(i){return new(i||r)(a(y),a(l),a(N),a(H),a(v),a(_))},r.\u0275prov=f({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();export{K as a,h as b,S as c,L as d,H as e,rt as f};
