import{b as R}from"./chunk-VLMSGL5J.js";import{$ as G,A as m,B as _,C as k,Ca as O,D as g,E as D,H as b,I as h,K as X,L as Y,M as a,N as s,O as C,P as f,Q as v,R as l,S as H,T as A,X as p,Z as F,aa as E,j,ja as I,ka as S,la as M,oa as $,p as x,r as V,s as w,u as c,v as d}from"./chunk-EYTT7SII.js";var B=(()=>{let i=class i{constructor(e,t){this.http=e,this.host=t,this._host=t,this._http=e}savedProduct(e,t){let o=new M().set("Content-Type","application/json");var u=this._http.post(this._host.GetHostApi()+e,t);return u}updateProduct(e,t){let o=new M().set("Content-Type","application/json");console.log("Update",t);var u=this._http.post(this._host.GetHostApi()+e,t);return u}deleteProduct(e,t){var o=this._http.delete(this._host.GetHostApi()+e+"?id="+t);return o}deleteImgByUrl(e,t){var o=this._http.delete(this._host.GetHostApi()+e+"?url="+t);return o}saveAndUpdate(e,t){let o=new j;return t.id!=null&&t.id!="00000000-0000-0000-0000-000000000000"&&t.id.length==36?o=this.updateProduct(e,t):o=this.savedProduct(e,t),o}GetAllProduct(e,t,o){this._listProduct=new Array;var u=this._http.get(this._host.GetHostApi()+`Product/GetProductByProject?filter=${e}&type=${t}&page=${o}`);return u.subscribe(y=>{this._listProduct=y.data,this._listProduct==null&&(this._listProduct=new Array)}),u}GetProductById(e){var t=this._http.get(this._host.GetHostApi()+`Product/GetProductById?id=${e}`);return t}};i.\u0275fac=function(t){return new(t||i)(V($),V(O))},i.\u0275prov=x({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();function z(n,i){if(n&1){let r=f();a(0,"div",6),v("click",function(){c(r);let t=l(2);return d(t.EditGrid())}),a(1,"button"),C(2,"i",7),s(),p(3," Editar "),s()}}function J(n,i){if(n&1){let r=f();a(0,"div",6),v("click",function(){c(r);let t=l(2);return d(t.CloneGrid())}),a(1,"button"),C(2,"i",8),s(),p(3," Clonar "),s()}}function K(n,i){if(n&1){let r=f();a(0,"div",6),v("click",function(){c(r);let t=l(2);return d(t.ClearDataGrid())}),a(1,"button"),C(2,"i",8),s(),p(3," Cancelar "),s()}}function L(n,i){if(n&1){let r=f();a(0,"div",9),v("click",function(){c(r);let t=l(2);return d(t.DeleteGrid())}),a(1,"button"),C(2,"i",10),s(),p(3," Eliminar "),s()}}var Q=n=>({transform:n});function W(n,i){if(n&1){let r=f();a(0,"div",1)(1,"div",2),v("mousedown",function(t){c(r);let o=l();return d(o.onDragStart(t))})("touchstart",function(t){c(r);let o=l();return d(o.onDragStart(t))})("mousemove",function(t){c(r);let o=l();return d(o.onDrag(t))})("touchmove",function(t){c(r);let o=l();return d(o.onDrag(t))})("mouseup",function(){c(r);let t=l();return d(t.onDragEnd())})("touchend",function(){c(r);let t=l();return d(t.onDragEnd())})("mouseleave",function(){c(r);let t=l();return d(t.onDragEnd())}),C(2,"i",3),s(),b(3,z,4,0,"div",4)(4,J,4,0,"div",4)(5,K,4,0,"div",4)(6,L,4,0,"div",5),s()}if(n&2){let r=l();D("ngStyle",E(5,Q,"  translate("+r.positionX+"px, "+r.positionY+"px)")),m(3),h(3,r.Edit?3:-1),m(1),h(4,r.IsClone?4:-1),m(1),h(5,r.IsClearData?5:-1),m(1),h(6,r.IsDelete?6:-1)}}var _t=(()=>{let i=class i{constructor(e,t){this._productService=t,this.Edit=new g,this.Delete=new g,this.Clone=new g,this.ClearData=new g,this.IsDelete=!0,this.IsClone=!1,this.IsClearData=!0,this.visible=!0,this.isDragging=!1,this.startX=0,this.startY=0,this.positionX=0,this.positionY=0,this.scale=1,this.zoomOrigin=1,this._service=e}ngDoCheck(){}ngOnInit(){}EditGrid(){this.Edit.emit(this.item)}DeleteGrid(){this.Delete.emit(this.item)}CloneGrid(){this.Clone.emit(this.item)}ClearDataGrid(){this.ClearData.emit()}onDragStart(e){e.preventDefault(),this.isDragging=!0;let t=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,o=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;this.startX=t-this.positionX,this.startY=o-this.positionY}onDrag(e){if(this.isDragging){let t=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,o=e instanceof MouseEvent?e.clientY:e.touches[0].clientY,u=t-this.startX-this.positionX,y=o-this.startY-this.positionY,P=.29;this.positionX+=u-P,this.positionY+=y-P}}onDragEnd(){this.isDragging=!1}};i.\u0275fac=function(t){return new(t||i)(_(R),_(B))},i.\u0275cmp=w({type:i,selectors:[["app-common-menu-grid"]],inputs:{IsDelete:"IsDelete",IsClone:"IsClone",IsClearData:"IsClearData",visible:"visible",item:"item"},outputs:{Edit:"Edit",Delete:"Delete",Clone:"Clone",ClearData:"ClearData"},standalone:!0,features:[G],decls:1,vars:1,consts:[["class","edit-visible",3,"ngStyle"],[1,"edit-visible",3,"ngStyle"],[1,"grad",3,"mousedown","touchstart","mousemove","touchmove","mouseup","touchend","mouseleave"],[1,"bi","bi-arrows-move"],["class","div-item"],["class","delete div-item "],[1,"div-item",3,"click"],[1,"bi","bi-pencil"],[1,"bi","bi-copy"],[1,"delete","div-item",3,"click"],[1,"bi","bi-trash3"]],template:function(t,o){t&1&&b(0,W,7,7,"div",0),t&2&&h(0,o.visible?0:-1)},dependencies:[S,I]});let n=i;return n})();var U=(()=>{let i=class i{constructor(){this.RowSeletion=""}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=x({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var tt=(n,i)=>i.id;function et(n,i){if(n&1&&(a(0,"div",2),p(1),s()),n&2){let r=i.$implicit;m(1),F(" ",r.value," ")}}var it=n=>({"grid-template-columns":n}),nt=["*"],ft=(()=>{let i=class i{constructor(e,t){this.cdRef=t,this.columns="4",this._Service=e}ngDoCheck(){this.cdRef&&this.cdRef.detectChanges()}ngOnInit(){}};i.\u0275fac=function(t){return new(t||i)(_(U),_(k))},i.\u0275cmp=w({type:i,selectors:[["app-common-custom-grid"]],inputs:{columns:"columns"},standalone:!0,features:[G],ngContentSelectors:nt,decls:5,vars:3,consts:[[1,"scroll"],[1,"container-concep",3,"ngStyle"],[1,"div-header"],["class","div-header"]],template:function(t,o){t&1&&(H(),a(0,"div",0)(1,"div",1),X(2,et,2,1,"div",3,tt),A(4),s()()),t&2&&(m(1),D("ngStyle",E(1,it,"repeat("+o.columns+", 1fr)")),m(1),Y(o._Service.dataHeader))},dependencies:[S,I]});let n=i;return n})();export{B as a,_t as b,U as c,ft as d};
