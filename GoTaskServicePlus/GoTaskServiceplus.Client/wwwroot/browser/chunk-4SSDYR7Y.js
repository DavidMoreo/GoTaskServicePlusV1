import{a as F}from"./chunk-FBHCYKZX.js";import{a as z}from"./chunk-DY7UBFIR.js";import{$ as H,A as y,B as l,C as B,Ca as g,H as M,I as G,M as d,N as u,O as h,P as O,Q as w,R as m,U as T,Va as E,X as f,Z as j,ha as k,i as b,j as _,ka as S,oa as R,p as v,r as p,s as I,u as P,v as A,x as C,xa as $}from"./chunk-EYTT7SII.js";var q=(()=>{let e=class e{constructor(i,t,n){this.http=i,this.host=t,this._listProduct=new Array,this._statust=!1,this._listProductIA=new Array,this._statustIA=!1,this.pageActive=0,this.pageTotal=0,this.pageActiveIA=0,this.pageTotalIA=0,this.listBotAvailable=!1,this.isBotActive=!1,this.loadingPageGo=!1,this.counHttp=0,this.limitHttp=10,this._host=t,this._http=i,this._loading=n}GetAllProduct(i,t,n){t="3fa85f64-5717-4562-b3fc-2c963f66afa6",this.filterTemp=i,this.loadingPageGo=!0;var s=this._http.get(this._host.GetHostApi()+`Product/GetProductByName?filter=${i}&type=${t}&page=${n}`);try{return s.subscribe({next:o=>{if(this._listProduct==null||this._listProduct==null||this._listProduct.length<=0)this._listProduct=o.data;else{var c=new Array;c=o.data,c.forEach(x=>{this._listProduct.push(x)})}this.pageTotal=o.pages,this.loadingPageGo=!1,this._statust=!0,this._listProduct.length<=0&&(this.isBotActive=!0),this._loading.Loading(!1)},error:o=>{this.ReloadHttp()}}),s}catch{return this._loading.Loading(!1),this._statust=!0,new _}return new _}GetAllProductIA(i,t,n){this.loadingPageGo=!0,this.typeTemp=t="3fa85f64-5717-4562-b3fc-2c963f66afa6",this._loading._loadingPartial=!1;var s=this._http.get(this._host.GetHostApi()+`Product/GetProductByNameIA?filter=${i}&type=${t}&page=${n}`);return s.subscribe({next:o=>{if(this._listProductIA==null||this._listProductIA==null||this._listProductIA.length<=0)this._listProductIA=o.data;else{var c=new Array;c=o.data,c.forEach(x=>{this._listProductIA.push(x)})}this.loadingPageGo=!1,this.pageTotal=o.pages,this._listProductIA.length<=0&&(this.isBotActive=!1),this._loading.Loading(!1),this._loading._loadingPartial=!0,this._listProductIA!=null&&this._listProductIA.length>0&&(this.listBotAvailable=!0),this.limitHttp=0},error:o=>{this.ReloadHttp()}}),s}FilterProduct(){this._listProductIA=new Array,this._listProduct=new Array,this.pageActive=0,this.pageActiveIA=0,this.isBotActive?this.GetAllProductIA(this.filterTemp,this.typeTemp,this.pageActiveIA):this.GetAllProduct(this.filterTemp,this.typeTemp,this.pageActiveIA)}ReloadHttp(){return b(this,null,function*(){if(this.counHttp++,this.counHttp<=this.limitHttp)var i=setInterval(()=>{clearInterval(i),this.isBotActive?this.GetAllProductIA(this.filterTemp,this.typeTemp,this.pageActiveIA):this.GetAllProduct(this.filterTemp,this.typeTemp,this.pageActiveIA)},1e4+this.counHttp*100)})}};e.\u0275fac=function(t){return new(t||e)(p(R),p(g),p(z))},e.\u0275prov=v({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();function U(r,e){if(r&1){let a=O();d(0,"div",1)(1,"div",2)(2,"div",3),h(3,"img",4),d(4,"p",5),f(5),u()(),d(6,"div",6)(7,"button",7),w("click",function(){P(a);let t=m();return A(t.CartProduct())}),f(8,"Ir a mi carrito "),h(9,"i",8),u(),d(10,"button",7),w("click",function(){P(a);let t=m();return A(t.Close())}),f(11,"Salir "),h(12,"i",9),u()()()()}if(r&2){let a=m();y(3),T("src",a.GetImgUrl(a._BuyProduct.product),C),y(2),j("",a._BuyProduct.product.name," Pruea de prodcu")}}var it=(()=>{let e=class e{constructor(i,t,n,s,o){this.location=i,this.router=s,this._configservice=t,this._location=i,this._router=s,this._BuyProduct=o}ngOnInit(){}Close(){this._BuyProduct.product=null}CartProduct(){this.Close(),this._BuyProduct.BuyProduct("product-cart")}GetImgUrl(i){var t=this._configservice.GetUrlImgItem(i.firsImg,"PC");return t}};e.\u0275fac=function(t){return new(t||e)(l(k),l(g),l(B),l($),l(F))},e.\u0275cmp=I({type:e,selectors:[["app-alert-buy-product"]],standalone:!0,features:[H],decls:1,vars:1,consts:[["class","alert-buy-product"],[1,"alert-buy-product"],[1,"item"],[1,"img-title"],[1,"img",3,"src"],[1,"title"],[1,"item-buttom"],[1,"btn",3,"click"],[1,"bi","bi-cart4"],[1,"bi","bi-x-circle"]],template:function(t,n){t&1&&M(0,U,13,2,"div",0),t&2&&G(0,n._BuyProduct.product!=null?0:-1)},dependencies:[E,S],styles:[".alert-buy-product[_ngcontent-%COMP%]{position:absolute;width:100%;height:300px;background-color:#5656568a;box-shadow:0 -1px 5px #000;bottom:1px;z-index:10;display:flex;flex-direction:column;justify-content:center;align-items:center;animation:_ngcontent-%COMP%_onBuy 1s ease forwards}@keyframes _ngcontent-%COMP%_onBuy{0%{transform:translateY(200px)}to{transform:translateY(0)}}@media (max-width: 468px){.alert-buy-product[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:absolute;height:200px;overflow:hidden;width:100%;bottom:100px}}.item[_ngcontent-%COMP%]{border-radius:5px;width:50%;display:flex;flex-direction:column;justify-content:center;align-items:start;row-gap:10px;column-gap:10px;background-color:#ff4500;padding:20px;box-shadow:0 0 5px #000}@media (max-width: 468px){.item[_ngcontent-%COMP%]{height:150px;width:100%;row-gap:10px;align-items:center;padding-left:10px;padding-right:10px}}.img[_ngcontent-%COMP%]{height:90px;max-width:100px;width:auto;border-radius:5px;box-shadow:0 0 5px #000}@media (max-width: 468px){.img[_ngcontent-%COMP%]{height:40px;max-width:60px;width:auto;border-radius:5px;box-shadow:0 0 5px #000}}.item-buttom[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:end;align-items:end;row-gap:10px;column-gap:20px;width:100%}@media (max-width: 468px){.item-buttom[_ngcontent-%COMP%]{justify-content:center}}.btn[_ngcontent-%COMP%]{border-radius:5px;border:none;height:40px;width:120px;background-color:#007bff;box-shadow:0 0 5px #000,0 0 1px 1px #fff inset;color:#fff}@media (max-width: 468px){.btn[_ngcontent-%COMP%]{font-size:9px;width:90px}}.img-title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;column-gap:20px}@media (max-width: 468px){.img-title[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;column-gap:20px;row-gap:10px}}.title[_ngcontent-%COMP%]{color:#fff;text-shadow:0px 0px 0px black;font-size:12px;text-align:start}@media (max-width: 468px){.title[_ngcontent-%COMP%]{font-size:10px;width:50%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}}"]});let r=e;return r})();export{q as a,it as b};
