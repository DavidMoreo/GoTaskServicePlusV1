import{b as W}from"./chunk-5Q3WGLKV.js";import{a as K}from"./chunk-W3XRPWO3.js";import{a as J}from"./chunk-JSEALS6B.js";import"./chunk-ROSI6QSI.js";import{a as R}from"./chunk-VYAYXPXE.js";import"./chunk-OMG2A7U2.js";import"./chunk-VLMSGL5J.js";import"./chunk-DY7UBFIR.js";import"./chunk-MV2P2U5R.js";import{$ as A,A as l,B as g,C as I,Ca as M,E as u,H as v,I as b,Ia as H,K as E,L as V,M as s,N as c,Na as N,O as w,P as S,Pa as U,Q as h,Qa as q,R as p,Sa as Q,Ta as z,Va as L,X as d,Y as j,Z as f,aa as y,ba as F,i as P,ia as G,ka as D,la as x,oa as $,p as B,r as T,s as O,u as _,v as C}from"./chunk-EYTT7SII.js";var X=(()=>{let o=class o{constructor(t,i){this.http=t,this.host=i,this._host=i,this._http=t}GetAllChat(t){let i=new x({"Content-Type":"application/json"});var e=this._http.get(this._host.GetHostApi()+`Chat/GetChatGotask?page=${t}`);return e.subscribe(r=>{this.chats=r.data,console.log(this.chats)}),e}DeleteChatById(t){let i=new x({"Content-Type":"application/json"});var e=this._http.delete(this._host.GetHostApi()+`Chat/DeleteChat?id=${t}`);return e}GetChatById(t){let i=new x({"Content-Type":"application/json"});var e=this._http.get(this._host.GetHostApi()+`Chat/GetChatById?id=${t}`);return e}SaveChatBot(t){let i=new x({"Content-Type":"application/json"});console.log(t);var e=this._http.post(this._host.GetHostApi()+"Chat/AddChat",t,{headers:i});return e.subscribe(r=>{r.status?alert("guardado"):alert(r.status)}),e}UpdateChatBot(t){let i=new x({"Content-Type":"application/json"});console.log(t);var e=this._http.post(this._host.GetHostApi()+"Chat/UpdateChat",t,{headers:i});return e.subscribe(r=>{var m=this.chats.filter(Y=>Y.id!=t.id);this.chats=m,this.chats.push(r.data),r.status||alert(r.status)}),e}};o.\u0275fac=function(i){return new(i||o)(T($),T(M))},o.\u0275prov=B({token:o,factory:o.\u0275fac,providedIn:"root"});let n=o;return n})();function it(n,o){if(n&1&&(s(0,"option",10),d(1),c()),n&2){let a=p();l(1),j(a.chat.typeQuestion)}}function nt(n,o){if(n&1){let a=S();s(0,"button",18),h("click",function(){_(a);let i=p();return C(i.SaveAndUpdateConcept())}),w(1,"i",19),c()}}var ot=(n,o)=>o.name;function at(n,o){if(n&1){let a=S();s(0,"div",22)(1,"button",18),h("click",function(){_(a);let i=p().$implicit,e=p(2);return C(e.Edit(i.id))}),w(2,"i",23),c(),s(3,"button",18),h("click",function(){_(a);let i=p().$implicit,e=p(2);return C(e.DeleteConcept(i.id))}),w(4,"i",24),c()()}}var k=n=>({"row-select":n});function rt(n,o){if(n&1){let a=S();v(0,at,5,0,"div",20),s(1,"div",21),h("click",function(){let e=_(a).$implicit,r=p(2);return C(r.Selection(e.id))}),d(2),c(),s(3,"div",21),h("click",function(){let e=_(a).$implicit,r=p(2);return C(r.Selection(e.id))}),d(4),c(),s(5,"div",21),h("click",function(){let e=_(a).$implicit,r=p(2);return C(r.Selection(e.id))}),d(6),c()}if(n&2){let a=o.$implicit,t=p(2);b(0,t._rowSeletion==a.id?0:-1),l(1),u("ngClass",y(7,k,t._rowSeletion==a.id)),l(1),f(" ",a.question," "),l(1),u("ngClass",y(9,k,t._rowSeletion==a.id)),l(1),f(" ",a.typeQuestion," "),l(1),u("ngClass",y(11,k,t._rowSeletion==a.id)),l(1),f(" ",a.response," ")}}function st(n,o){if(n&1&&E(0,rt,7,13,null,null,ot),n&2){let a=p();V(a._ChatBotService.chats)}}var ct=(n,o)=>({active:n,disable:o}),vt=(()=>{let o=class o{constructor(t,i,e,r,m){this.chat=new W,this._tab=H.AdressConcept(),this._configservice=t,this._http=i,this._ChatBotService=r,this._cdRef=e,this._Permission=m}ngOnInit(){var t=this._Permission.ValidationLogin("chat-config");t&&(this.GetChatBotMsg(),this.loadData())}loadData(){return P(this,null,function*(){})}DeleteConcept(t){this._ChatBotService.DeleteChatById(t).subscribe(i=>{i.status?this._ChatBotService.chats=this._ChatBotService.chats.filter(e=>e.id!=t):alert("No eliminado")})}Edit(t){this._ChatBotService.GetChatById(t).subscribe(i=>{console.log(i),this.chat=i.data,this._cdRef.detectChanges()})}SaveAndUpdateConcept(){if(this.ValidateConcept(),this.chat.id=="00000000-0000-0000-0000-000000000000"){var t=this._ChatBotService.SaveChatBot(this.chat);return t}else{var t=this._ChatBotService.UpdateChatBot(this.chat);return t}}SelectTypeChat(t){var i=t.target.value;if(i!="0"){var i=t.target.value;this.chat.typeQuestion=i}}GetChatBotMsg(){var t=this._ChatBotService.GetAllChat(0)}pageTab(t){this._tab=t}loadContryData(t){}Selection(t){this._rowSeletion=t,this._cdRef.detectChanges()}languageTraslate(t){return t}ValidateConcept(){}};o.\u0275fac=function(i){return new(i||o)(g(M),g(R),g(I),g(X),g(J))},o.\u0275cmp=O({type:o,selectors:[["app-chat-config"]],standalone:!0,features:[A],decls:33,vars:12,consts:[[1,"containe-concept"],[1,"scroll-menu"],[1,"containe-concept-menu"],[1,"tab-item",3,"ngClass","click"],[1,"concept-item"],[1,"container-input"],[1,"text-form"],["type","text","name","code",3,"ngModel","ngModelChange"],["type","text","name","name",1,"textarea",3,"ngModel","ngModelChange"],[3,"change"],["value","0"],["value","chatBot"],["value","product"],["value","price"],[1,"btn-scroll"],[1,"scroll"],[1,"container-concep"],[1,"div-header"],[3,"click"],[1,"bi","bi-floppy2-fill"],["class","edit-visible"],[1,"div-item",3,"ngClass","click"],[1,"edit-visible"],[1,"bi","bi-pencil"],[1,"bi","bi-trash3"]],template:function(i,e){i&1&&(s(0,"app-permission")(1,"div",0)(2,"div",1)(3,"div",2)(4,"button",3),h("click",function(){return e.pageTab("AdressConcept")}),d(5,"Chat"),c()()(),s(6,"div",4)(7,"div",5)(8,"p",6),d(9),s(10,"input",7),h("ngModelChange",function(m){return e.chat.question=m}),c(),d(11),s(12,"textarea",8),h("ngModelChange",function(m){return e.chat.response=m}),c(),d(13),s(14,"select",9),h("change",function(m){return e.SelectTypeChat(m)}),v(15,it,2,1,"option",10),s(16,"option",11),d(17,"Respuesta de bot"),c(),s(18,"option",12),d(19,"Producto"),c(),s(20,"option",13),d(21,"Precio denproducto"),c()()()(),s(22,"div",14),v(23,nt,2,0,"button"),c()(),s(24,"div",15)(25,"div",16)(26,"div",17),d(27," question "),c(),s(28,"div",17),d(29," type Question "),c(),s(30,"div",17),d(31," response "),c(),v(32,st,2,0),c()()()()),i&2&&(l(4),u("ngClass",F(9,ct,e._tab=="AdressConcept",e._tab!="AdressConcept")),l(5),f(" ",e.languageTraslate("Pregunta")," "),l(1),u("ngModel",e.chat.question),l(1),f(" ",e.languageTraslate("Respuesta")," "),l(1),u("ngModel",e.chat.response),l(1),f(" ",e.languageTraslate("Respuesta")," "),l(2),b(15,e.chat!=null&&e.chat!=null?15:-1),l(8),b(23,23),l(9),b(32,e._ChatBotService.chats!=null?32:-1))},dependencies:[L,Q,z,N,U,q,D,G,K],styles:[".scroll-menu[_ngcontent-%COMP%]{width:100vw;overflow:hidden}.containe-concept-menu[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:5px;row-gap:5px;column-gap:5px;background-color:#000;width:100%;overflow:auto}.containe-concept-menu[_ngcontent-%COMP%]   .tab-item[_ngcontent-%COMP%]{min-width:100px;padding:5px;border-radius:5px;background-color:#000;color:#fff}.active[_ngcontent-%COMP%]{border:1px solid white;box-shadow:-1px 1px 2px #fff,inset 0 0 8px #fff}.disable[_ngcontent-%COMP%]{border:none;box-shadow:0 0 2px #fff}.btn-scroll[_ngcontent-%COMP%]{display:flex;justify-content:end;column-gap:10px;align-items:center;background-color:#ff4500;box-shadow:0 0 5px #000;padding:5px;border-radius:5px}.btn-scroll[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:5px;background-color:#000;box-shadow:0 0 5px #000,inset 0 0 5px #fff;color:#fff;padding:2px;height:45px;min-width:50px;display:flex;justify-content:center;align-items:center}.btn-scroll[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:25px}.scroll[_ngcontent-%COMP%]{display:flex;width:99%;padding:5px;background-color:#0ff;height:200px;overflow:hidden;justify-content:start}.container-concep[_ngcontent-%COMP%]{display:grid;row-gap:1px;grid-template-columns:repeat(3,1fr);background-color:red;grid-template-rows:min-content;width:100%;align-content:start;overflow-y:auto}.div-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;background-color:#000;border:1px solid white;height:30px;color:#fff}.div-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;background-color:gray;border:1px solid white;height:30px;color:#fff;position:relative;overflow:hidden}@media (max-width: 468px){.div-item[_ngcontent-%COMP%]{font-size:8px}}.row-select[_ngcontent-%COMP%]{background-color:green}.textarea[_ngcontent-%COMP%]{min-width:99vw;min-height:70px;margin-bottom:10px}"]});let n=o;return n})();export{vt as ChatComponent};
